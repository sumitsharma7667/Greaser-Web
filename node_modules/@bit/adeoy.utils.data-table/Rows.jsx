import React from "react";
import { resolveObjProp } from "./utils";

const Rows = ({ columns, currentRows, onClickRow }) => {
  const handleClick = (row) => {
    if (onClickRow) {
      onClickRow(row);
    }
  };

  const render = () => {
    return currentRows.map((row, i) => (
      <tr key={i} onClick={() => handleClick(row)}>
        {columns.map((col, j) => {
          const format = col.format || (row => resolveObjProp(col.data, row));
          return (
            <td key={`${i}_${j}`}>{format(row)}</td>
          )
        })}
      </tr>
    ));
  };

  return <tbody>{render()}</tbody>;
};

export default Rows;
