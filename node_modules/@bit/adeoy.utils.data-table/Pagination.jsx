import React from "react";

import { Button, ButtonGroup } from "reactstrap";

const Pagination = ({ currentPage, handleCurrentPage, maxPage }) => {
  const offsets = 3;

  const render = () => {
    const buttons = [];

    let temp = Math.floor(currentPage / offsets);

    let a = temp * offsets - 1;
    let z = temp * offsets + offsets;

    if (a <= 0) {
      a = 1;
    }

    if (z >= maxPage) {
      z = maxPage;
    }

    for (let i = a; i <= z; i++) {
      let key = i;
      let disabled = false;
      let outline = true;
      if (i === currentPage) {
        key = null;
        disabled = true;
        outline = false;
      }
      const btn = (
        <Button
          key={i}
          color="primary"
          outline={outline}
          disabled={disabled}
          onClick={() => handleCurrentPage(key)}
        >
          {i}
        </Button>
      );
      buttons.push(btn);
    }
    return buttons;
  };

  return (
    <ButtonGroup>
      <Button
        color="primary"
        outline={true}
        disabled={currentPage === 1}
        onClick={() => handleCurrentPage(1)}
      >
        &lt;&lt;
      </Button>
      <Button
        color="primary"
        outline={true}
        disabled={currentPage - 1 < 1}
        onClick={() => handleCurrentPage(currentPage - 1)}
      >
        &lt;
      </Button>
      {render()}
      <Button
        color="primary"
        outline={true}
        disabled={currentPage + 1 > maxPage}
        onClick={() => handleCurrentPage(currentPage + 1)}
      >
        &gt;
      </Button>
      <Button
        color="primary"
        outline={true}
        disabled={currentPage === maxPage}
        onClick={() => handleCurrentPage(maxPage)}
      >
        &gt;&gt;
      </Button>
    </ButtonGroup>
  );
};

export default Pagination;
